name: ğŸš€ Manual Deployment Example

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'ğŸŒ ë°°í¬ í™˜ê²½ì„ ì„ íƒí•˜ì„¸ìš” (dev, staging, prod)'
        required: true
        default: 'dev'
      version:
        description: 'ğŸ·ï¸ ë°°í¬í•  ë²„ì „ íƒœê·¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: v1.2.3)'
        required: false

jobs:
  deploy:
    name: ğŸ“¦ Deploy to ${{ github.event.inputs.environment }}
    runs-on: mlops-lifecycle-runner-scale-set

    steps:
      - name: ğŸ”§ í™˜ê²½ ì„¤ì •
        run: |
          echo "ë°°í¬ í™˜ê²½: ${{ github.event.inputs.environment }}"
          echo "ë²„ì „: ${{ github.event.inputs.version || 'latest' }}"

      - name: â¬‡ï¸ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v3

      - name: ğŸ§° ì˜ì¡´ì„± ì„¤ì¹˜
        run: |
          echo "ì˜ì¡´ì„± ì„¤ì¹˜ ì¤‘..."
          # ì˜ˆì‹œ: npm install ë˜ëŠ” pip install
          sleep 2  # ì‹¤ì œ ì„¤ì¹˜ ì‘ì—… ëŒ€ì²´ìš©

      - name: ğŸšš ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
        run: |
          echo "ğŸš€ '${{ github.event.inputs.environment }}' í™˜ê²½ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•©ë‹ˆë‹¤..."
          sleep 2  # ì‹¤ì œ ë°°í¬ ì‘ì—… ëŒ€ì²´ìš©

      - name: âœ… ë°°í¬ ì™„ë£Œ
        run: echo "ğŸ‰ ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"

      - name: ğŸ“¢ ìŠ¬ë™ ì•Œë¦¼ ë³´ë‚´ê¸° (ì˜µì…˜)
        if: ${{ success() }}
        run: echo "ìŠ¬ë™ ì•Œë¦¼: ë°°í¬ ì„±ê³µ ğŸ‰"
